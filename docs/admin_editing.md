# Admin Editing (Chair-Only)

This repository supports chair-managed edits through the GitHub API while keeping Git as the source of truth (SoR).

## Recommended GitHub Token Scope

Use a **fine-grained personal access token (PAT)** with the minimum required permission:

- Repository access: `JohnWBlack/fccps-ai-deliverables-governance`
- Permissions:
  - **Contents: Read and Write**

Do not use broad classic PAT scopes unless absolutely required.

## Suggested File Allowlist for Web/API Editor

Allow edits only to governance source and publication files:

- `sor/workstreams.yml`
- `sor/timeline.yml`
- `sor/deliverables.yml`
- `CHANGELOG_PUBLIC.md`

Do not allow direct edits to generated output:

- `public/public_snapshot.json` (generated by CI and scripts)

## Governance Note

**UI edits still commit to git; git remains the SoR.**

Even when edits are submitted from a web UI or API endpoint, they must result in normal Git commits in this repository. Validation/build workflows then regenerate and publish the snapshot from the committed SoR YAML.

## Recommended Chair Flow

1. Edit an allowlisted SoR file through the approved API/UI.
2. Commit change to `main` (or via PR if enabled).
3. GitHub Actions validates SoR and rebuilds `public/public_snapshot.json`.
4. If snapshot changed, CI commits the updated snapshot back to `main`.
